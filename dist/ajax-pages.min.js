function ajaxPages(e){function t(t){if(t===window.location.href)return!1;c.beforeLoading(),$(c.loaderSelector).fadeIn();var n=new Date;c.enableAnalyticsTrack&&"function"==typeof ga&&ga("send","pageview",t),$.get(t,function(i){var r=new Date,u=r.getTime()-n.getTime(),f=c.minLoadTime;f=u>=c.minLoadTime?0:c.minLoadTime-u,setTimeout(function(){body="<div>"+i.replace(/^[\s\S]*<body.*?>|<\/body>[\s\S]*$/gi,"")+"</div>";var n=$(body);$(c.loaderSelector).fadeOut(function(){if(n=n.find(c.searchSelector).html(),$(c.replaceSelector).html(n),c.afterLoading(),c.changeTitle){var r="";if(c.titleSelector==o){var u=i.indexOf(a)+a.length,f=i.indexOf(l);r=i.substring(u,f)}else r=n.find(c.titleSelector).text();document.title=r}if(c.enableUrlChange&&window.history.pushState({html:n,pageTitle:document.title},"",t),c.scrollTop&&$("html, body").animate({scrollTop:$(c.scrollTopSelector).offset().top},c.scrollTopDuration),focusedInput){if(input=$('input[name="'+focusedInput+'"]'),1===input.length){input[0].focus();var p=input.val();input.val("").val(p)}focusedInput=null}ajaxPages(e)})},f)})}function n(e,t){var n=new RegExp("([?&])"+e+"=.*?(&|#|$)","g");return t.replaceAll(n,"$1")}function i(e,t,i,o){if(""===t)i=n(e,i);else if(-1!==i.indexOf(e)&&-1===e.indexOf("[]")){var a=new RegExp("("+e+"=)[^&]+");i=i.replace(a,"$1"+t)}else i=i+o+e+"="+t;return i}var o="title",a="<title>",l="</title>",r={rootSelector:"body",replaceSelector:"#content",searchSelector:"#content",loaderSelector:"#loadingContent",linkSelector:"a[data-link='ajax']",formSelector:"form[data-link='ajax']",paginationKey:"p",scrollTop:!0,scrollTopSelector:"#content",scrollTopDuration:500,enableAnalyticsTrack:!0,enableUrlChange:!0,changeTitle:!0,titleSelector:"title",minLoadTime:0,typingTimeout:500,beforeLoading:function(){},afterLoading:function(){}},c=jQuery.extend(r,e);return window.history.replaceState({html:$(c.searchSelector).html(),pageTitle:document.title},"",window.location.href),$(c.loaderSelector).hide(),window.onpopstate=function(t){t.state&&($(c.replaceSelector).html(t.state.html),document.title=t.state.pageTitle,c.enableAnalyticsTrack&&"function"==typeof ga&&ga("send","pageview",window.location.href),ajaxPages(e))},$("html").find(c.rootSelector).each(function(e,o){var a=jQuery(o),l=a.find(c.linkSelector).get(),r=a.find(c.formSelector).get();$.each(l,function(e,n){$(n).attr("onclick","return false"),$(n).click(function(e){t($(e.target).attr("href"))})}),$.each(r,function(e,o){$(o).attr("submit","return false");var a=window.location.href,l="?";-1!==a.indexOf("?")&&(l="&"),$(o).find("input, select").each(function(){$(this).on("input change",function(){isTyping&&clearTimeout(isTyping);var e=$(this).attr("name"),o=$(this).val(),r=0;focusedInput=e,$(this).is("input[type='text']")&&(r=c.typingTimeout),isTyping=setTimeout(function(){a=n(c.paginationKey,a),e.indexOf(!0)?(a=n(e,a),o=$("input[name='"+e+"']:checked").each(function(){a=i(e,$(this).val(),a,l)})):a=i(e,o,a,l),a=a.replace("&&","&"),a=a.replace("?&","?"),a=a.replace(/([?&])$/,""),t(a)},r)})})})})}var isTyping=!1,focusedInput=null;String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)};